"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const alexa = require("@aws-cdk/alexa-ask");
const s3 = require("@aws-cdk/aws-s3");
const cdk = require("@aws-cdk/cdk");
const codepipeline = require("../lib");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'aws-cdk-codepipeline-alexa-deploy');
const pipeline = new codepipeline.Pipeline(stack, 'Pipeline');
const sourceStage = new codepipeline.Stage(pipeline, 'Source', { pipeline });
const bucket = new s3.Bucket(stack, 'PipelineBucket', {
    versioned: true,
    removalPolicy: cdk.RemovalPolicy.Destroy,
});
const sourceAction = new s3.PipelineSourceAction(stack, 'Source', {
    stage: sourceStage,
    outputArtifactName: 'SourceArtifact',
    bucket,
    bucketKey: 'key',
});
const deployStage = new codepipeline.Stage(pipeline, 'Deploy', { pipeline });
new alexa.AlexaSkillDeployAction(stack, 'DeploySkill', {
    stage: deployStage,
    runOrder: 1,
    inputArtifact: sourceAction.outputArtifact,
    clientId: new cdk.Secret('clientId'),
    clientSecret: new cdk.Secret('clientSecret'),
    refreshToken: new cdk.Secret('refreshToken'),
    skillId: 'amzn1.ask.skill.12345678-1234-1234-1234-123456789012',
});
app.run();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcucGlwZWxpbmUtYWxleGEtZGVwbG95LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcucGlwZWxpbmUtYWxleGEtZGVwbG95LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNENBQTZDO0FBQzdDLHNDQUF1QztBQUN2QyxvQ0FBcUM7QUFDckMsdUNBQXdDO0FBRXhDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTFCLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztBQUV0RSxNQUFNLFFBQVEsR0FBRyxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBRTlELE1BQU0sV0FBVyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUM3RSxNQUFNLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFO0lBQ3BELFNBQVMsRUFBRSxJQUFJO0lBQ2YsYUFBYSxFQUFFLEdBQUcsQ0FBQyxhQUFhLENBQUMsT0FBTztDQUN6QyxDQUFDLENBQUM7QUFDSCxNQUFNLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFO0lBQ2hFLEtBQUssRUFBRSxXQUFXO0lBQ2xCLGtCQUFrQixFQUFFLGdCQUFnQjtJQUNwQyxNQUFNO0lBQ04sU0FBUyxFQUFFLEtBQUs7Q0FDakIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxXQUFXLEdBQUcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBRTdFLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUU7SUFDckQsS0FBSyxFQUFFLFdBQVc7SUFDbEIsUUFBUSxFQUFFLENBQUM7SUFDWCxhQUFhLEVBQUUsWUFBWSxDQUFDLGNBQWM7SUFDMUMsUUFBUSxFQUFFLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFDcEMsWUFBWSxFQUFFLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFDNUMsWUFBWSxFQUFFLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFDNUMsT0FBTyxFQUFFLHNEQUFzRDtDQUNoRSxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWxleGEgPSByZXF1aXJlKCdAYXdzLWNkay9hbGV4YS1hc2snKTtcbmltcG9ydCBzMyA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2F3cy1zMycpO1xuaW1wb3J0IGNkayA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2NkaycpO1xuaW1wb3J0IGNvZGVwaXBlbGluZSA9IHJlcXVpcmUoJy4uL2xpYicpO1xuXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuXG5jb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnYXdzLWNkay1jb2RlcGlwZWxpbmUtYWxleGEtZGVwbG95Jyk7XG5cbmNvbnN0IHBpcGVsaW5lID0gbmV3IGNvZGVwaXBlbGluZS5QaXBlbGluZShzdGFjaywgJ1BpcGVsaW5lJyk7XG5cbmNvbnN0IHNvdXJjZVN0YWdlID0gbmV3IGNvZGVwaXBlbGluZS5TdGFnZShwaXBlbGluZSwgJ1NvdXJjZScsIHsgcGlwZWxpbmUgfSk7XG5jb25zdCBidWNrZXQgPSBuZXcgczMuQnVja2V0KHN0YWNrLCAnUGlwZWxpbmVCdWNrZXQnLCB7XG4gIHZlcnNpb25lZDogdHJ1ZSxcbiAgcmVtb3ZhbFBvbGljeTogY2RrLlJlbW92YWxQb2xpY3kuRGVzdHJveSxcbn0pO1xuY29uc3Qgc291cmNlQWN0aW9uID0gbmV3IHMzLlBpcGVsaW5lU291cmNlQWN0aW9uKHN0YWNrLCAnU291cmNlJywge1xuICBzdGFnZTogc291cmNlU3RhZ2UsXG4gIG91dHB1dEFydGlmYWN0TmFtZTogJ1NvdXJjZUFydGlmYWN0JyxcbiAgYnVja2V0LFxuICBidWNrZXRLZXk6ICdrZXknLFxufSk7XG5cbmNvbnN0IGRlcGxveVN0YWdlID0gbmV3IGNvZGVwaXBlbGluZS5TdGFnZShwaXBlbGluZSwgJ0RlcGxveScsIHsgcGlwZWxpbmUgfSk7XG5cbm5ldyBhbGV4YS5BbGV4YVNraWxsRGVwbG95QWN0aW9uKHN0YWNrLCAnRGVwbG95U2tpbGwnLCB7XG4gIHN0YWdlOiBkZXBsb3lTdGFnZSxcbiAgcnVuT3JkZXI6IDEsXG4gIGlucHV0QXJ0aWZhY3Q6IHNvdXJjZUFjdGlvbi5vdXRwdXRBcnRpZmFjdCxcbiAgY2xpZW50SWQ6IG5ldyBjZGsuU2VjcmV0KCdjbGllbnRJZCcpLFxuICBjbGllbnRTZWNyZXQ6IG5ldyBjZGsuU2VjcmV0KCdjbGllbnRTZWNyZXQnKSxcbiAgcmVmcmVzaFRva2VuOiBuZXcgY2RrLlNlY3JldCgncmVmcmVzaFRva2VuJyksXG4gIHNraWxsSWQ6ICdhbXpuMS5hc2suc2tpbGwuMTIzNDU2NzgtMTIzNC0xMjM0LTEyMzQtMTIzNDU2Nzg5MDEyJyxcbn0pO1xuXG5hcHAucnVuKCk7XG4iXX0=