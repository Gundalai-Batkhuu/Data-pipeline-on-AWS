"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const s3 = require("@aws-cdk/aws-s3");
const cdk = require("@aws-cdk/cdk");
const codepipeline = require("../lib");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'aws-cdk-codepipeline-jenkins');
const bucket = new s3.Bucket(stack, 'MyBucket', {
    versioned: true,
});
const pipeline = new codepipeline.Pipeline(stack, 'Pipeline', {
    artifactBucket: bucket,
});
const sourceStage = pipeline.addStage('Source');
bucket.addToPipeline(sourceStage, 'S3', {
    bucketKey: 'some/path',
});
const jenkinsProvider = new codepipeline.JenkinsProvider(stack, 'JenkinsProvider', {
    providerName: 'JenkinsProvider',
    serverUrl: 'http://myjenkins.com:8080',
    version: '2',
});
const buildStage = pipeline.addStage('Build');
jenkinsProvider.addToPipeline(buildStage, 'JenkinsBuild', {
    projectName: 'JenkinsProject1',
});
jenkinsProvider.addToPipelineAsTest(buildStage, 'JenkinsTest', {
    projectName: 'JenkinsProject2',
});
jenkinsProvider.addToPipelineAsTest(buildStage, 'JenkinsTest2', {
    projectName: 'JenkinsProject3',
});
app.run();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcucGlwZWxpbmUtamVua2lucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImludGVnLnBpcGVsaW5lLWplbmtpbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBdUM7QUFDdkMsb0NBQXFDO0FBQ3JDLHVDQUF3QztBQUV4QyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQixNQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLDhCQUE4QixDQUFDLENBQUM7QUFFakUsTUFBTSxNQUFNLEdBQUcsSUFBSSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUU7SUFDOUMsU0FBUyxFQUFFLElBQUk7Q0FDaEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUU7SUFDNUQsY0FBYyxFQUFFLE1BQU07Q0FDdkIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNoRCxNQUFNLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUU7SUFDdEMsU0FBUyxFQUFFLFdBQVc7Q0FDdkIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxlQUFlLEdBQUcsSUFBSSxZQUFZLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsRUFBRTtJQUNqRixZQUFZLEVBQUUsaUJBQWlCO0lBQy9CLFNBQVMsRUFBRSwyQkFBMkI7SUFDdEMsT0FBTyxFQUFFLEdBQUc7Q0FDYixDQUFDLENBQUM7QUFFSCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLGVBQWUsQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLGNBQWMsRUFBRTtJQUN4RCxXQUFXLEVBQUUsaUJBQWlCO0NBQy9CLENBQUMsQ0FBQztBQUNILGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFO0lBQzdELFdBQVcsRUFBRSxpQkFBaUI7Q0FDL0IsQ0FBQyxDQUFDO0FBQ0gsZUFBZSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxjQUFjLEVBQUU7SUFDOUQsV0FBVyxFQUFFLGlCQUFpQjtDQUMvQixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgczMgPSByZXF1aXJlKCdAYXdzLWNkay9hd3MtczMnKTtcbmltcG9ydCBjZGsgPSByZXF1aXJlKCdAYXdzLWNkay9jZGsnKTtcbmltcG9ydCBjb2RlcGlwZWxpbmUgPSByZXF1aXJlKCcuLi9saWInKTtcblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcblxuY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ2F3cy1jZGstY29kZXBpcGVsaW5lLWplbmtpbnMnKTtcblxuY29uc3QgYnVja2V0ID0gbmV3IHMzLkJ1Y2tldChzdGFjaywgJ015QnVja2V0Jywge1xuICB2ZXJzaW9uZWQ6IHRydWUsXG59KTtcblxuY29uc3QgcGlwZWxpbmUgPSBuZXcgY29kZXBpcGVsaW5lLlBpcGVsaW5lKHN0YWNrLCAnUGlwZWxpbmUnLCB7XG4gIGFydGlmYWN0QnVja2V0OiBidWNrZXQsXG59KTtcblxuY29uc3Qgc291cmNlU3RhZ2UgPSBwaXBlbGluZS5hZGRTdGFnZSgnU291cmNlJyk7XG5idWNrZXQuYWRkVG9QaXBlbGluZShzb3VyY2VTdGFnZSwgJ1MzJywge1xuICBidWNrZXRLZXk6ICdzb21lL3BhdGgnLFxufSk7XG5cbmNvbnN0IGplbmtpbnNQcm92aWRlciA9IG5ldyBjb2RlcGlwZWxpbmUuSmVua2luc1Byb3ZpZGVyKHN0YWNrLCAnSmVua2luc1Byb3ZpZGVyJywge1xuICBwcm92aWRlck5hbWU6ICdKZW5raW5zUHJvdmlkZXInLFxuICBzZXJ2ZXJVcmw6ICdodHRwOi8vbXlqZW5raW5zLmNvbTo4MDgwJyxcbiAgdmVyc2lvbjogJzInLFxufSk7XG5cbmNvbnN0IGJ1aWxkU3RhZ2UgPSBwaXBlbGluZS5hZGRTdGFnZSgnQnVpbGQnKTtcbmplbmtpbnNQcm92aWRlci5hZGRUb1BpcGVsaW5lKGJ1aWxkU3RhZ2UsICdKZW5raW5zQnVpbGQnLCB7XG4gIHByb2plY3ROYW1lOiAnSmVua2luc1Byb2plY3QxJyxcbn0pO1xuamVua2luc1Byb3ZpZGVyLmFkZFRvUGlwZWxpbmVBc1Rlc3QoYnVpbGRTdGFnZSwgJ0plbmtpbnNUZXN0Jywge1xuICBwcm9qZWN0TmFtZTogJ0plbmtpbnNQcm9qZWN0MicsXG59KTtcbmplbmtpbnNQcm92aWRlci5hZGRUb1BpcGVsaW5lQXNUZXN0KGJ1aWxkU3RhZ2UsICdKZW5raW5zVGVzdDInLCB7XG4gIHByb2plY3ROYW1lOiAnSmVua2luc1Byb2plY3QzJyxcbn0pO1xuXG5hcHAucnVuKCk7XG4iXX0=