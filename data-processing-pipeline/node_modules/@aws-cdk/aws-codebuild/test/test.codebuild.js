"use strict";
const assert_1 = require("@aws-cdk/assert");
const codecommit = require("@aws-cdk/aws-codecommit");
const s3 = require("@aws-cdk/aws-s3");
const cdk = require("@aws-cdk/cdk");
const codebuild = require("../lib");
module.exports = {
    'default properties': {
        'with CodePipeline source'(test) {
            const stack = new cdk.Stack();
            const source = new codebuild.CodePipelineSource();
            new codebuild.Project(stack, 'MyProject', {
                source
            });
            assert_1.expect(stack).toMatch({
                "Resources": {
                    "MyProjectRole9BBE5233": {
                        "Type": "AWS::IAM::Role",
                        "Properties": {
                            "AssumeRolePolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": "sts:AssumeRole",
                                        "Effect": "Allow",
                                        "Principal": {
                                            "Service": "codebuild.amazonaws.com"
                                        }
                                    }
                                ],
                                "Version": "2012-10-17"
                            }
                        }
                    },
                    "MyProjectRoleDefaultPolicyB19B7C29": {
                        "Type": "AWS::IAM::Policy",
                        "Properties": {
                            "PolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": [
                                            "logs:CreateLogGroup",
                                            "logs:CreateLogStream",
                                            "logs:PutLogEvents"
                                        ],
                                        "Effect": "Allow",
                                        "Resource": [
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        }
                                                    ]
                                                ]
                                            },
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        },
                                                        ":*"
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "Version": "2012-10-17"
                            },
                            "PolicyName": "MyProjectRoleDefaultPolicyB19B7C29",
                            "Roles": [
                                {
                                    "Ref": "MyProjectRole9BBE5233"
                                }
                            ]
                        }
                    },
                    "MyProject39F7B0AE": {
                        "Type": "AWS::CodeBuild::Project",
                        "Properties": {
                            "Source": {
                                "Type": "CODEPIPELINE"
                            },
                            "Artifacts": {
                                "Type": "CODEPIPELINE"
                            },
                            "ServiceRole": {
                                "Fn::GetAtt": [
                                    "MyProjectRole9BBE5233",
                                    "Arn"
                                ]
                            },
                            "Environment": {
                                "Type": "LINUX_CONTAINER",
                                "PrivilegedMode": false,
                                "Image": "aws/codebuild/ubuntu-base:14.04",
                                "ComputeType": "BUILD_GENERAL1_SMALL"
                            }
                        }
                    }
                }
            });
            test.done();
        },
        'with CodeCommit source'(test) {
            const stack = new cdk.Stack();
            const repo = new codecommit.Repository(stack, 'MyRepo', { repositoryName: 'hello-cdk' });
            const source = new codebuild.CodeCommitSource({ repository: repo });
            new codebuild.Project(stack, 'MyProject', {
                source
            });
            assert_1.expect(stack).toMatch({
                "Resources": {
                    "MyRepoF4F48043": {
                        "Type": "AWS::CodeCommit::Repository",
                        "Properties": {
                            "RepositoryName": "hello-cdk",
                            "Triggers": []
                        }
                    },
                    "MyProjectRole9BBE5233": {
                        "Type": "AWS::IAM::Role",
                        "Properties": {
                            "AssumeRolePolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": "sts:AssumeRole",
                                        "Effect": "Allow",
                                        "Principal": {
                                            "Service": "codebuild.amazonaws.com"
                                        }
                                    }
                                ],
                                "Version": "2012-10-17"
                            }
                        }
                    },
                    "MyProjectRoleDefaultPolicyB19B7C29": {
                        "Type": "AWS::IAM::Policy",
                        "Properties": {
                            "PolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": "codecommit:GitPull",
                                        "Effect": "Allow",
                                        "Resource": {
                                            "Fn::GetAtt": [
                                                "MyRepoF4F48043",
                                                "Arn"
                                            ]
                                        }
                                    },
                                    {
                                        "Action": [
                                            "logs:CreateLogGroup",
                                            "logs:CreateLogStream",
                                            "logs:PutLogEvents"
                                        ],
                                        "Effect": "Allow",
                                        "Resource": [
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        }
                                                    ]
                                                ]
                                            },
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        },
                                                        ":*"
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "Version": "2012-10-17"
                            },
                            "PolicyName": "MyProjectRoleDefaultPolicyB19B7C29",
                            "Roles": [
                                {
                                    "Ref": "MyProjectRole9BBE5233"
                                }
                            ]
                        }
                    },
                    "MyProject39F7B0AE": {
                        "Type": "AWS::CodeBuild::Project",
                        "Properties": {
                            "Artifacts": {
                                "Type": "NO_ARTIFACTS"
                            },
                            "Environment": {
                                "ComputeType": "BUILD_GENERAL1_SMALL",
                                "Image": "aws/codebuild/ubuntu-base:14.04",
                                "PrivilegedMode": false,
                                "Type": "LINUX_CONTAINER"
                            },
                            "ServiceRole": {
                                "Fn::GetAtt": [
                                    "MyProjectRole9BBE5233",
                                    "Arn"
                                ]
                            },
                            "Source": {
                                "Location": {
                                    "Fn::GetAtt": [
                                        "MyRepoF4F48043",
                                        "CloneUrlHttp"
                                    ]
                                },
                                "Type": "CODECOMMIT"
                            }
                        }
                    }
                }
            });
            test.done();
        },
        'with S3Bucket source'(test) {
            const stack = new cdk.Stack();
            const bucket = new s3.Bucket(stack, 'MyBucket');
            new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.S3BucketSource({
                    bucket,
                    path: 'path/to/source.zip',
                }),
                environment: {
                    buildImage: codebuild.WindowsBuildImage.WIN_SERVER_CORE_2016_BASE,
                },
            });
            assert_1.expect(stack).toMatch({
                "Resources": {
                    "MyBucketF68F3FF0": {
                        "Type": "AWS::S3::Bucket",
                        "DeletionPolicy": "Retain"
                    },
                    "MyProjectRole9BBE5233": {
                        "Type": "AWS::IAM::Role",
                        "Properties": {
                            "AssumeRolePolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": "sts:AssumeRole",
                                        "Effect": "Allow",
                                        "Principal": {
                                            "Service": "codebuild.amazonaws.com"
                                        }
                                    }
                                ],
                                "Version": "2012-10-17"
                            }
                        }
                    },
                    "MyProjectRoleDefaultPolicyB19B7C29": {
                        "Type": "AWS::IAM::Policy",
                        "Properties": {
                            "PolicyDocument": {
                                "Statement": [
                                    {
                                        "Action": [
                                            "s3:GetObject*",
                                            "s3:GetBucket*",
                                            "s3:List*"
                                        ],
                                        "Effect": "Allow",
                                        "Resource": [
                                            {
                                                "Fn::GetAtt": [
                                                    "MyBucketF68F3FF0",
                                                    "Arn"
                                                ]
                                            },
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        {
                                                            "Fn::GetAtt": [
                                                                "MyBucketF68F3FF0",
                                                                "Arn"
                                                            ]
                                                        },
                                                        "/*"
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "Action": [
                                            "logs:CreateLogGroup",
                                            "logs:CreateLogStream",
                                            "logs:PutLogEvents"
                                        ],
                                        "Effect": "Allow",
                                        "Resource": [
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        }
                                                    ]
                                                ]
                                            },
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        "arn:",
                                                        {
                                                            "Ref": "AWS::Partition"
                                                        },
                                                        ":logs:",
                                                        {
                                                            "Ref": "AWS::Region"
                                                        },
                                                        ":",
                                                        {
                                                            "Ref": "AWS::AccountId"
                                                        },
                                                        ":log-group:/aws/codebuild/",
                                                        {
                                                            "Ref": "MyProject39F7B0AE"
                                                        },
                                                        ":*"
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "Version": "2012-10-17"
                            },
                            "PolicyName": "MyProjectRoleDefaultPolicyB19B7C29",
                            "Roles": [
                                {
                                    "Ref": "MyProjectRole9BBE5233"
                                }
                            ]
                        }
                    },
                    "MyProject39F7B0AE": {
                        "Type": "AWS::CodeBuild::Project",
                        "Properties": {
                            "Artifacts": {
                                "Type": "NO_ARTIFACTS"
                            },
                            "Environment": {
                                "ComputeType": "BUILD_GENERAL1_MEDIUM",
                                "Image": "aws/codebuild/windows-base:1.0",
                                "PrivilegedMode": false,
                                "Type": "WINDOWS_CONTAINER"
                            },
                            "ServiceRole": {
                                "Fn::GetAtt": [
                                    "MyProjectRole9BBE5233",
                                    "Arn"
                                ]
                            },
                            "Source": {
                                "Location": {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Ref": "MyBucketF68F3FF0"
                                            },
                                            "/path/to/source.zip"
                                        ]
                                    ]
                                },
                                "Type": "S3"
                            }
                        }
                    }
                }
            });
            test.done();
        },
        'fail creating a Project when no build spec is given'(test) {
            const stack = new cdk.Stack();
            test.throws(() => {
                new codebuild.Project(stack, 'MyProject', {});
            }, /buildSpec/);
            test.done();
        },
    },
    'using timeout and path in S3 artifacts sets it correctly'(test) {
        const stack = new cdk.Stack();
        const bucket = new s3.Bucket(stack, 'Bucket');
        new codebuild.Project(stack, 'Project', {
            buildSpec: {
                version: '0.2',
            },
            artifacts: new codebuild.S3BucketBuildArtifacts({
                path: 'some/path',
                name: 'some_name',
                bucket,
            }),
            timeout: 123,
        });
        assert_1.expect(stack).to(assert_1.haveResourceLike('AWS::CodeBuild::Project', {
            "Artifacts": {
                "Path": "some/path",
                "Name": "some_name",
                "Type": "S3",
            },
            "TimeoutInMinutes": 123,
        }));
        test.done();
    },
    'secondary sources': {
        'require providing an identifier when creating a Project'(test) {
            const stack = new cdk.Stack();
            test.throws(() => {
                new codebuild.Project(stack, 'MyProject', {
                    buildSpec: {
                        version: '0.2',
                    },
                    secondarySources: [
                        new codebuild.CodePipelineSource(),
                    ],
                });
            }, /identifier/);
            test.done();
        },
        'are not allowed for a Project with CodePipeline as Source'(test) {
            const stack = new cdk.Stack();
            const project = new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.CodePipelineSource(),
            });
            project.addSecondarySource(new codebuild.S3BucketSource({
                bucket: new s3.Bucket(stack, 'MyBucket'),
                path: 'some/path',
                identifier: 'id',
            }));
            test.throws(() => {
                assert_1.expect(stack);
            }, /secondary sources/);
            test.done();
        },
        'added with an identifer after the Project has been created are rendered in the template'(test) {
            const stack = new cdk.Stack();
            const bucket = new s3.Bucket(stack, 'MyBucket');
            const project = new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.S3BucketSource({
                    bucket,
                    path: 'some/path',
                }),
            });
            project.addSecondarySource(new codebuild.S3BucketSource({
                bucket,
                path: 'another/path',
                identifier: 'source1',
            }));
            assert_1.expect(stack).to(assert_1.haveResourceLike('AWS::CodeBuild::Project', {
                "SecondarySources": [
                    {
                        "SourceIdentifier": "source1",
                        "Type": "S3",
                    },
                ],
            }));
            test.done();
        },
    },
    'secondary artifacts': {
        'require providing an identifier when creating a Project'(test) {
            const stack = new cdk.Stack();
            test.throws(() => {
                new codebuild.Project(stack, 'MyProject', {
                    buildSpec: {
                        version: '0.2',
                    },
                    secondaryArtifacts: [
                        new codebuild.S3BucketBuildArtifacts({
                            bucket: new s3.Bucket(stack, 'MyBucket'),
                            path: 'some/path',
                            name: 'name',
                        }),
                    ],
                });
            }, /identifier/);
            test.done();
        },
        'are not allowed for a Project with CodePipeline as Source'(test) {
            const stack = new cdk.Stack();
            const project = new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.CodePipelineSource(),
            });
            project.addSecondaryArtifact(new codebuild.S3BucketBuildArtifacts({
                bucket: new s3.Bucket(stack, 'MyBucket'),
                path: 'some/path',
                name: 'name',
                identifier: 'id',
            }));
            test.throws(() => {
                assert_1.expect(stack);
            }, /secondary artifacts/);
            test.done();
        },
        'added with an identifier after the Project has been created are rendered in the template'(test) {
            const stack = new cdk.Stack();
            const bucket = new s3.Bucket(stack, 'MyBucket');
            const project = new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.S3BucketSource({
                    bucket,
                    path: 'some/path',
                }),
            });
            project.addSecondaryArtifact(new codebuild.S3BucketBuildArtifacts({
                bucket,
                path: 'another/path',
                name: 'name',
                identifier: 'artifact1',
            }));
            assert_1.expect(stack).to(assert_1.haveResourceLike('AWS::CodeBuild::Project', {
                "SecondaryArtifacts": [
                    {
                        "ArtifactIdentifier": "artifact1",
                        "Type": "S3",
                    },
                ],
            }));
            test.done();
        },
    },
    'artifacts': {
        'CodePipeline': {
            'both source and artifacs are set to CodePipeline'(test) {
                const stack = new cdk.Stack();
                new codebuild.Project(stack, 'MyProject', {
                    source: new codebuild.CodePipelineSource(),
                    artifacts: new codebuild.CodePipelineBuildArtifacts()
                });
                assert_1.expect(stack).to(assert_1.haveResource('AWS::CodeBuild::Project', {
                    "Source": {
                        "Type": "CODEPIPELINE"
                    },
                    "Artifacts": {
                        "Type": "CODEPIPELINE"
                    },
                    "ServiceRole": {
                        "Fn::GetAtt": [
                            "MyProjectRole9BBE5233",
                            "Arn"
                        ]
                    },
                    "Environment": {
                        "Type": "LINUX_CONTAINER",
                        "PrivilegedMode": false,
                        "Image": "aws/codebuild/ubuntu-base:14.04",
                        "ComputeType": "BUILD_GENERAL1_SMALL"
                    }
                }));
                test.done();
            },
            'if sourcde is set to CodePipeline, and artifacts are not set, they are defaulted to CodePipeline'(test) {
                const stack = new cdk.Stack();
                new codebuild.Project(stack, 'MyProject', {
                    source: new codebuild.CodePipelineSource()
                });
                assert_1.expect(stack).to(assert_1.haveResource('AWS::CodeBuild::Project', {
                    "Source": {
                        "Type": "CODEPIPELINE"
                    },
                    "Artifacts": {
                        "Type": "CODEPIPELINE"
                    },
                    "ServiceRole": {
                        "Fn::GetAtt": [
                            "MyProjectRole9BBE5233",
                            "Arn"
                        ]
                    },
                    "Environment": {
                        "Type": "LINUX_CONTAINER",
                        "PrivilegedMode": false,
                        "Image": "aws/codebuild/ubuntu-base:14.04",
                        "ComputeType": "BUILD_GENERAL1_SMALL"
                    }
                }));
                test.done();
            },
            'fails if one of source/artifacts is set to CodePipeline and the other isn\'t'(test) {
                const stack = new cdk.Stack();
                test.throws(() => new codebuild.Project(stack, 'MyProject', {
                    source: new codebuild.CodePipelineSource(),
                    artifacts: new codebuild.NoBuildArtifacts()
                }), /Both source and artifacts must be set to CodePipeline/);
                test.throws(() => new codebuild.Project(stack, 'YourProject', {
                    source: new codebuild.CodeCommitSource({
                        repository: new codecommit.Repository(stack, 'MyRepo', { repositoryName: 'boo' })
                    }),
                    artifacts: new codebuild.CodePipelineBuildArtifacts()
                }), /Both source and artifacts must be set to CodePipeline/);
                test.done();
            }
        }
    },
    'events'(test) {
        const stack = new cdk.Stack();
        const project = new codebuild.Project(stack, 'MyProject', {
            source: new codebuild.CodePipelineSource()
        });
        project.onBuildFailed('OnBuildFailed');
        project.onBuildSucceeded('OnBuildSucceeded');
        project.onPhaseChange('OnPhaseChange');
        project.onStateChange('OnStateChange');
        project.onBuildStarted('OnBuildStarted');
        assert_1.expect(stack).to(assert_1.haveResource('AWS::Events::Rule', {
            "EventPattern": {
                "source": [
                    "aws.codebuild"
                ],
                "detail-type": [
                    "CodeBuild Build State Change"
                ],
                "detail": {
                    "project-name": [
                        {
                            "Ref": "MyProject39F7B0AE"
                        }
                    ],
                    "build-status": [
                        "FAILED"
                    ]
                }
            },
            "State": "ENABLED"
        }));
        assert_1.expect(stack).to(assert_1.haveResource('AWS::Events::Rule', {
            "EventPattern": {
                "source": [
                    "aws.codebuild"
                ],
                "detail-type": [
                    "CodeBuild Build State Change"
                ],
                "detail": {
                    "project-name": [
                        {
                            "Ref": "MyProject39F7B0AE"
                        }
                    ],
                    "build-status": [
                        "SUCCEEDED"
                    ]
                }
            },
            "State": "ENABLED"
        }));
        assert_1.expect(stack).to(assert_1.haveResource('AWS::Events::Rule', {
            "EventPattern": {
                "source": [
                    "aws.codebuild"
                ],
                "detail-type": [
                    "CodeBuild Build Phase Change"
                ],
                "detail": {
                    "project-name": [
                        {
                            "Ref": "MyProject39F7B0AE"
                        }
                    ]
                }
            },
            "State": "ENABLED"
        }));
        assert_1.expect(stack).to(assert_1.haveResource('AWS::Events::Rule', {
            "EventPattern": {
                "source": [
                    "aws.codebuild"
                ],
                "detail-type": [
                    "CodeBuild Build State Change"
                ],
                "detail": {
                    "project-name": [
                        {
                            "Ref": "MyProject39F7B0AE"
                        }
                    ]
                }
            },
            "State": "ENABLED"
        }));
        assert_1.expect(stack).to(assert_1.haveResource('AWS::Events::Rule', {
            "EventPattern": {
                "source": [
                    "aws.codebuild"
                ],
                "detail-type": [
                    "CodeBuild Build State Change"
                ],
                "detail": {
                    "project-name": [
                        {
                            "Ref": "MyProject39F7B0AE"
                        }
                    ],
                    "build-status": [
                        "IN_PROGRESS"
                    ]
                }
            },
            "State": "ENABLED"
        }));
        test.done();
    },
    'environment variables can be overridden at the project level'(test) {
        const stack = new cdk.Stack();
        new codebuild.Project(stack, 'Project', {
            source: new codebuild.CodePipelineSource(),
            environment: {
                environmentVariables: {
                    FOO: { value: '1234' },
                    BAR: { value: `111${new cdk.Token({ twotwotwo: '222' })}`, type: codebuild.BuildEnvironmentVariableType.ParameterStore }
                }
            },
            environmentVariables: {
                GOO: { value: 'ABC' },
                FOO: { value: 'OVERRIDE!' }
            }
        });
        assert_1.expect(stack).to(assert_1.haveResource('AWS::CodeBuild::Project', {
            "Source": {
                "Type": "CODEPIPELINE"
            },
            "Artifacts": {
                "Type": "CODEPIPELINE"
            },
            "ServiceRole": {
                "Fn::GetAtt": [
                    "ProjectRole4CCB274E",
                    "Arn"
                ]
            },
            "Environment": {
                "Type": "LINUX_CONTAINER",
                "EnvironmentVariables": [
                    {
                        "Type": "PLAINTEXT",
                        "Value": "OVERRIDE!",
                        "Name": "FOO"
                    },
                    {
                        "Type": "PARAMETER_STORE",
                        "Value": {
                            "Fn::Join": [
                                "",
                                [
                                    "111",
                                    { twotwotwo: "222" }
                                ]
                            ]
                        },
                        "Name": "BAR"
                    },
                    {
                        "Type": "PLAINTEXT",
                        "Value": "ABC",
                        "Name": "GOO"
                    }
                ],
                "PrivilegedMode": false,
                "Image": "aws/codebuild/ubuntu-base:14.04",
                "ComputeType": "BUILD_GENERAL1_SMALL"
            }
        }));
        test.done();
    },
    '.metricXxx() methods can be used to obtain Metrics for CodeBuild projects'(test) {
        const stack = new cdk.Stack();
        const project = new codebuild.Project(stack, 'MyBuildProject', { source: new codebuild.CodePipelineSource() });
        const metricBuilds = project.metricBuilds();
        test.same(metricBuilds.dimensions.ProjectName, project.projectName);
        test.deepEqual(metricBuilds.namespace, 'AWS/CodeBuild');
        test.deepEqual(metricBuilds.statistic, 'Sum', 'default stat is SUM');
        test.deepEqual(metricBuilds.metricName, 'Builds');
        const metricDuration = project.metricDuration({ label: 'hello' });
        test.deepEqual(metricDuration.metricName, 'Duration');
        test.deepEqual(metricDuration.label, 'hello');
        test.deepEqual(project.metricFailedBuilds().metricName, 'FailedBuilds');
        test.deepEqual(project.metricSucceededBuilds().metricName, 'SucceededBuilds');
        test.done();
    },
    'using ComputeType.Small with a Windows image fails validation'(test) {
        const stack = new cdk.Stack();
        const invalidEnvironment = {
            buildImage: codebuild.WindowsBuildImage.WIN_SERVER_CORE_2016_BASE,
            computeType: codebuild.ComputeType.Small,
        };
        test.throws(() => {
            new codebuild.Project(stack, 'MyProject', {
                source: new codebuild.CodePipelineSource(),
                environment: invalidEnvironment,
            });
        }, /Windows images do not support the Small ComputeType/);
        test.done();
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5jb2RlYnVpbGQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXN0LmNvZGVidWlsZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNENBQXlFO0FBQ3pFLHNEQUF1RDtBQUN2RCxzQ0FBdUM7QUFDdkMsb0NBQXFDO0FBRXJDLG9DQUFxQztBQUlyQyxpQkFBUztJQUNQLG9CQUFvQixFQUFFO1FBQ3BCLDBCQUEwQixDQUFDLElBQVU7WUFDbkMsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7WUFFOUIsTUFBTSxNQUFNLEdBQUcsSUFBSSxTQUFTLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUNsRCxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRTtnQkFDeEMsTUFBTTthQUNQLENBQUMsQ0FBQztZQUVILGVBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQ3BCLFdBQVcsRUFBRTtvQkFDYix1QkFBdUIsRUFBRTt3QkFDdkIsTUFBTSxFQUFFLGdCQUFnQjt3QkFDeEIsWUFBWSxFQUFFOzRCQUNkLDBCQUEwQixFQUFFO2dDQUMxQixXQUFXLEVBQUU7b0NBQ2I7d0NBQ0UsUUFBUSxFQUFFLGdCQUFnQjt3Q0FDMUIsUUFBUSxFQUFFLE9BQU87d0NBQ2pCLFdBQVcsRUFBRTs0Q0FDYixTQUFTLEVBQUUseUJBQXlCO3lDQUNuQztxQ0FDRjtpQ0FDQTtnQ0FDRCxTQUFTLEVBQUUsWUFBWTs2QkFDeEI7eUJBQ0E7cUJBQ0Y7b0JBQ0Qsb0NBQW9DLEVBQUU7d0JBQ3BDLE1BQU0sRUFBRSxrQkFBa0I7d0JBQzFCLFlBQVksRUFBRTs0QkFDZCxnQkFBZ0IsRUFBRTtnQ0FDaEIsV0FBVyxFQUFFO29DQUNYO3dDQUNFLFFBQVEsRUFBRTs0Q0FDUixxQkFBcUI7NENBQ3JCLHNCQUFzQjs0Q0FDdEIsbUJBQW1CO3lDQUNwQjt3Q0FDRCxRQUFRLEVBQUUsT0FBTzt3Q0FD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QztDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleHBlY3QsIGhhdmVSZXNvdXJjZSwgaGF2ZVJlc291cmNlTGlrZSB9IGZyb20gJ0Bhd3MtY2RrL2Fzc2VydCc7XG5pbXBvcnQgY29kZWNvbW1pdCA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2F3cy1jb2RlY29tbWl0Jyk7XG5pbXBvcnQgczMgPSByZXF1aXJlKCdAYXdzLWNkay9hd3MtczMnKTtcbmltcG9ydCBjZGsgPSByZXF1aXJlKCdAYXdzLWNkay9jZGsnKTtcbmltcG9ydCB7IFRlc3QgfSBmcm9tICdub2RldW5pdCc7XG5pbXBvcnQgY29kZWJ1aWxkID0gcmVxdWlyZSgnLi4vbGliJyk7XG5cbi8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLWtleS1xdW90ZXNcblxuZXhwb3J0ID0ge1xuICAnZGVmYXVsdCBwcm9wZXJ0aWVzJzoge1xuICAgICd3aXRoIENvZGVQaXBlbGluZSBzb3VyY2UnKHRlc3Q6IFRlc3QpIHtcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuXG4gICAgICBjb25zdCBzb3VyY2UgPSBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpO1xuICAgICAgbmV3IGNvZGVidWlsZC5Qcm9qZWN0KHN0YWNrLCAnTXlQcm9qZWN0Jywge1xuICAgICAgICBzb3VyY2VcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3RhY2spLnRvTWF0Y2goe1xuICAgICAgICBcIlJlc291cmNlc1wiOiB7XG4gICAgICAgIFwiTXlQcm9qZWN0Um9sZTlCQkU1MjMzXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OklBTTo6Um9sZVwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJBc3N1bWVSb2xlUG9saWN5RG9jdW1lbnRcIjoge1xuICAgICAgICAgICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIkFjdGlvblwiOiBcInN0czpBc3N1bWVSb2xlXCIsXG4gICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgXCJQcmluY2lwYWxcIjoge1xuICAgICAgICAgICAgICBcIlNlcnZpY2VcIjogXCJjb2RlYnVpbGQuYW1hem9uYXdzLmNvbVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlZlcnNpb25cIjogXCIyMDEyLTEwLTE3XCJcbiAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIk15UHJvamVjdFJvbGVEZWZhdWx0UG9saWN5QjE5QjdDMjlcIjoge1xuICAgICAgICAgIFwiVHlwZVwiOiBcIkFXUzo6SUFNOjpQb2xpY3lcIixcbiAgICAgICAgICBcIlByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwiUG9saWN5RG9jdW1lbnRcIjoge1xuICAgICAgICAgICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJBY3Rpb25cIjogW1xuICAgICAgICAgICAgICAgICAgXCJsb2dzOkNyZWF0ZUxvZ0dyb3VwXCIsXG4gICAgICAgICAgICAgICAgICBcImxvZ3M6Q3JlYXRlTG9nU3RyZWFtXCIsXG4gICAgICAgICAgICAgICAgICBcImxvZ3M6UHV0TG9nRXZlbnRzXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJGbjo6Sm9pblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFybjpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OlBhcnRpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI6bG9nczpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OlJlZ2lvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI6XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiQVdTOjpBY2NvdW50SWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiOmxvZy1ncm91cDovYXdzL2NvZGVidWlsZC9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJNeVByb2plY3QzOUY3QjBBRVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIkZuOjpKb2luXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJuOlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIkFXUzo6UGFydGl0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjpsb2dzOlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIkFXUzo6UmVnaW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OkFjY291bnRJZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI6bG9nLWdyb3VwOi9hd3MvY29kZWJ1aWxkL1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjoqXCJcbiAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlZlcnNpb25cIjogXCIyMDEyLTEwLTE3XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiUG9saWN5TmFtZVwiOiBcIk15UHJvamVjdFJvbGVEZWZhdWx0UG9saWN5QjE5QjdDMjlcIixcbiAgICAgICAgICBcIlJvbGVzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiUmVmXCI6IFwiTXlQcm9qZWN0Um9sZTlCQkU1MjMzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIk15UHJvamVjdDM5RjdCMEFFXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OkNvZGVCdWlsZDo6UHJvamVjdFwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJTb3VyY2VcIjoge1xuICAgICAgICAgICAgXCJUeXBlXCI6IFwiQ09ERVBJUEVMSU5FXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiQXJ0aWZhY3RzXCI6IHtcbiAgICAgICAgICAgIFwiVHlwZVwiOiBcIkNPREVQSVBFTElORVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlNlcnZpY2VSb2xlXCI6IHtcbiAgICAgICAgICAgIFwiRm46OkdldEF0dFwiOiBbXG4gICAgICAgICAgICBcIk15UHJvamVjdFJvbGU5QkJFNTIzM1wiLFxuICAgICAgICAgICAgXCJBcm5cIlxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJFbnZpcm9ubWVudFwiOiB7XG4gICAgICAgICAgICBcIlR5cGVcIjogXCJMSU5VWF9DT05UQUlORVJcIixcbiAgICAgICAgICAgIFwiUHJpdmlsZWdlZE1vZGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcIkltYWdlXCI6IFwiYXdzL2NvZGVidWlsZC91YnVudHUtYmFzZToxNC4wNFwiLFxuICAgICAgICAgICAgXCJDb21wdXRlVHlwZVwiOiBcIkJVSUxEX0dFTkVSQUwxX1NNQUxMXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmRvbmUoKTtcbiAgICB9LFxuICAgICd3aXRoIENvZGVDb21taXQgc291cmNlJyh0ZXN0OiBUZXN0KSB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgICAgY29uc3QgcmVwbyA9IG5ldyBjb2RlY29tbWl0LlJlcG9zaXRvcnkoc3RhY2ssICdNeVJlcG8nLCB7IHJlcG9zaXRvcnlOYW1lOiAnaGVsbG8tY2RrJyB9KTtcblxuICAgICAgY29uc3Qgc291cmNlID0gbmV3IGNvZGVidWlsZC5Db2RlQ29tbWl0U291cmNlKHsgcmVwb3NpdG9yeTogcmVwbyB9KTtcblxuICAgICAgbmV3IGNvZGVidWlsZC5Qcm9qZWN0KHN0YWNrLCAnTXlQcm9qZWN0Jywge1xuICAgICAgICBzb3VyY2VcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3RhY2spLnRvTWF0Y2goe1xuICAgICAgICBcIlJlc291cmNlc1wiOiB7XG4gICAgICAgIFwiTXlSZXBvRjRGNDgwNDNcIjoge1xuICAgICAgICAgIFwiVHlwZVwiOiBcIkFXUzo6Q29kZUNvbW1pdDo6UmVwb3NpdG9yeVwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJSZXBvc2l0b3J5TmFtZVwiOiBcImhlbGxvLWNka1wiLFxuICAgICAgICAgIFwiVHJpZ2dlcnNcIjogW11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiTXlQcm9qZWN0Um9sZTlCQkU1MjMzXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OklBTTo6Um9sZVwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJBc3N1bWVSb2xlUG9saWN5RG9jdW1lbnRcIjoge1xuICAgICAgICAgICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIkFjdGlvblwiOiBcInN0czpBc3N1bWVSb2xlXCIsXG4gICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgXCJQcmluY2lwYWxcIjoge1xuICAgICAgICAgICAgICBcIlNlcnZpY2VcIjogXCJjb2RlYnVpbGQuYW1hem9uYXdzLmNvbVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlZlcnNpb25cIjogXCIyMDEyLTEwLTE3XCJcbiAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIk15UHJvamVjdFJvbGVEZWZhdWx0UG9saWN5QjE5QjdDMjlcIjoge1xuICAgICAgICAgIFwiVHlwZVwiOiBcIkFXUzo6SUFNOjpQb2xpY3lcIixcbiAgICAgICAgICBcIlByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwiUG9saWN5RG9jdW1lbnRcIjoge1xuICAgICAgICAgICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIkFjdGlvblwiOiBcImNvZGVjb21taXQ6R2l0UHVsbFwiLFxuICAgICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICAgIFwiUmVzb3VyY2VcIjoge1xuICAgICAgICAgICAgICBcIkZuOjpHZXRBdHRcIjogW1xuICAgICAgICAgICAgICAgIFwiTXlSZXBvRjRGNDgwNDNcIixcbiAgICAgICAgICAgICAgICBcIkFyblwiXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJBY3Rpb25cIjogW1xuICAgICAgICAgICAgICBcImxvZ3M6Q3JlYXRlTG9nR3JvdXBcIixcbiAgICAgICAgICAgICAgXCJsb2dzOkNyZWF0ZUxvZ1N0cmVhbVwiLFxuICAgICAgICAgICAgICBcImxvZ3M6UHV0TG9nRXZlbnRzXCJcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiRm46OkpvaW5cIjogW1xuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgXCJhcm46XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIkFXUzo6UGFydGl0aW9uXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcIjpsb2dzOlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OlJlZ2lvblwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIkFXUzo6QWNjb3VudElkXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcIjpsb2ctZ3JvdXA6L2F3cy9jb2RlYnVpbGQvXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiTXlQcm9qZWN0MzlGN0IwQUVcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIkZuOjpKb2luXCI6IFtcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIFwiYXJuOlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OlBhcnRpdGlvblwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6bG9nczpcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiQVdTOjpSZWdpb25cIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiOlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OkFjY291bnRJZFwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6bG9nLWdyb3VwOi9hd3MvY29kZWJ1aWxkL1wiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcIjoqXCJcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlZlcnNpb25cIjogXCIyMDEyLTEwLTE3XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiUG9saWN5TmFtZVwiOiBcIk15UHJvamVjdFJvbGVEZWZhdWx0UG9saWN5QjE5QjdDMjlcIixcbiAgICAgICAgICBcIlJvbGVzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiUmVmXCI6IFwiTXlQcm9qZWN0Um9sZTlCQkU1MjMzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIk15UHJvamVjdDM5RjdCMEFFXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OkNvZGVCdWlsZDo6UHJvamVjdFwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJBcnRpZmFjdHNcIjoge1xuICAgICAgICAgICAgXCJUeXBlXCI6IFwiTk9fQVJUSUZBQ1RTXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiRW52aXJvbm1lbnRcIjoge1xuICAgICAgICAgICAgXCJDb21wdXRlVHlwZVwiOiBcIkJVSUxEX0dFTkVSQUwxX1NNQUxMXCIsXG4gICAgICAgICAgICBcIkltYWdlXCI6IFwiYXdzL2NvZGVidWlsZC91YnVudHUtYmFzZToxNC4wNFwiLFxuICAgICAgICAgICAgXCJQcml2aWxlZ2VkTW9kZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiVHlwZVwiOiBcIkxJTlVYX0NPTlRBSU5FUlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlNlcnZpY2VSb2xlXCI6IHtcbiAgICAgICAgICAgIFwiRm46OkdldEF0dFwiOiBbXG4gICAgICAgICAgICBcIk15UHJvamVjdFJvbGU5QkJFNTIzM1wiLFxuICAgICAgICAgICAgXCJBcm5cIlxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJTb3VyY2VcIjoge1xuICAgICAgICAgICAgXCJMb2NhdGlvblwiOiB7XG4gICAgICAgICAgICBcIkZuOjpHZXRBdHRcIjogW1xuICAgICAgICAgICAgICBcIk15UmVwb0Y0RjQ4MDQzXCIsXG4gICAgICAgICAgICAgIFwiQ2xvbmVVcmxIdHRwXCJcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlR5cGVcIjogXCJDT0RFQ09NTUlUXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGVzdC5kb25lKCk7XG4gICAgfSxcbiAgICAnd2l0aCBTM0J1Y2tldCBzb3VyY2UnKHRlc3Q6IFRlc3QpIHtcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgICAgY29uc3QgYnVja2V0ID0gbmV3IHMzLkJ1Y2tldChzdGFjaywgJ015QnVja2V0Jyk7XG5cbiAgICAgIG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLlMzQnVja2V0U291cmNlKHtcbiAgICAgICAgICBidWNrZXQsXG4gICAgICAgICAgcGF0aDogJ3BhdGgvdG8vc291cmNlLnppcCcsXG4gICAgICAgIH0pLFxuICAgICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICAgIGJ1aWxkSW1hZ2U6IGNvZGVidWlsZC5XaW5kb3dzQnVpbGRJbWFnZS5XSU5fU0VSVkVSX0NPUkVfMjAxNl9CQVNFLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdGFjaykudG9NYXRjaCh7XG4gICAgICAgIFwiUmVzb3VyY2VzXCI6IHtcbiAgICAgICAgXCJNeUJ1Y2tldEY2OEYzRkYwXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OlMzOjpCdWNrZXRcIixcbiAgICAgICAgICBcIkRlbGV0aW9uUG9saWN5XCI6IFwiUmV0YWluXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJNeVByb2plY3RSb2xlOUJCRTUyMzNcIjoge1xuICAgICAgICAgIFwiVHlwZVwiOiBcIkFXUzo6SUFNOjpSb2xlXCIsXG4gICAgICAgICAgXCJQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcIkFzc3VtZVJvbGVQb2xpY3lEb2N1bWVudFwiOiB7XG4gICAgICAgICAgICBcIlN0YXRlbWVudFwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFwic3RzOkFzc3VtZVJvbGVcIixcbiAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICBcIlByaW5jaXBhbFwiOiB7XG4gICAgICAgICAgICAgIFwiU2VydmljZVwiOiBcImNvZGVidWlsZC5hbWF6b25hd3MuY29tXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVmVyc2lvblwiOiBcIjIwMTItMTAtMTdcIlxuICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiTXlQcm9qZWN0Um9sZURlZmF1bHRQb2xpY3lCMTlCN0MyOVwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiQVdTOjpJQU06OlBvbGljeVwiLFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJQb2xpY3lEb2N1bWVudFwiOiB7XG4gICAgICAgICAgICBcIlN0YXRlbWVudFwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgICAgXCJzMzpHZXRPYmplY3QqXCIsXG4gICAgICAgICAgICAgIFwiczM6R2V0QnVja2V0KlwiLFxuICAgICAgICAgICAgICBcInMzOkxpc3QqXCJcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiRm46OkdldEF0dFwiOiBbXG4gICAgICAgICAgICAgICAgXCJNeUJ1Y2tldEY2OEYzRkYwXCIsXG4gICAgICAgICAgICAgICAgXCJBcm5cIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiRm46OkpvaW5cIjogW1xuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJGbjo6R2V0QXR0XCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJNeUJ1Y2tldEY2OEYzRkYwXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiQXJuXCJcbiAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcIi8qXCJcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgICAgXCJsb2dzOkNyZWF0ZUxvZ0dyb3VwXCIsXG4gICAgICAgICAgICAgIFwibG9nczpDcmVhdGVMb2dTdHJlYW1cIixcbiAgICAgICAgICAgICAgXCJsb2dzOlB1dExvZ0V2ZW50c1wiXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgXCJSZXNvdXJjZVwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIkZuOjpKb2luXCI6IFtcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIFwiYXJuOlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OlBhcnRpdGlvblwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6bG9nczpcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiQVdTOjpSZWdpb25cIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiOlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJBV1M6OkFjY291bnRJZFwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6bG9nLWdyb3VwOi9hd3MvY29kZWJ1aWxkL1wiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJGbjo6Sm9pblwiOiBbXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBcImFybjpcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiQVdTOjpQYXJ0aXRpb25cIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiOmxvZ3M6XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBcIlJlZlwiOiBcIkFXUzo6UmVnaW9uXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcIjpcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiUmVmXCI6IFwiQVdTOjpBY2NvdW50SWRcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiOmxvZy1ncm91cDovYXdzL2NvZGVidWlsZC9cIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJSZWZcIjogXCJNeVByb2plY3QzOUY3QjBBRVwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCI6KlwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJWZXJzaW9uXCI6IFwiMjAxMi0xMC0xN1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlBvbGljeU5hbWVcIjogXCJNeVByb2plY3RSb2xlRGVmYXVsdFBvbGljeUIxOUI3QzI5XCIsXG4gICAgICAgICAgXCJSb2xlc1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdFJvbGU5QkJFNTIzM1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJNeVByb2plY3QzOUY3QjBBRVwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiQVdTOjpDb2RlQnVpbGQ6OlByb2plY3RcIixcbiAgICAgICAgICBcIlByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwiQXJ0aWZhY3RzXCI6IHtcbiAgICAgICAgICAgIFwiVHlwZVwiOiBcIk5PX0FSVElGQUNUU1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIkVudmlyb25tZW50XCI6IHtcbiAgICAgICAgICAgIFwiQ29tcHV0ZVR5cGVcIjogXCJCVUlMRF9HRU5FUkFMMV9NRURJVU1cIixcbiAgICAgICAgICAgIFwiSW1hZ2VcIjogXCJhd3MvY29kZWJ1aWxkL3dpbmRvd3MtYmFzZToxLjBcIixcbiAgICAgICAgICAgIFwiUHJpdmlsZWdlZE1vZGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcIlR5cGVcIjogXCJXSU5ET1dTX0NPTlRBSU5FUlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlNlcnZpY2VSb2xlXCI6IHtcbiAgICAgICAgICAgIFwiRm46OkdldEF0dFwiOiBbXG4gICAgICAgICAgICBcIk15UHJvamVjdFJvbGU5QkJFNTIzM1wiLFxuICAgICAgICAgICAgXCJBcm5cIlxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJTb3VyY2VcIjoge1xuICAgICAgICAgICAgXCJMb2NhdGlvblwiOiB7XG4gICAgICAgICAgICBcIkZuOjpKb2luXCI6IFtcbiAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJSZWZcIjogXCJNeUJ1Y2tldEY2OEYzRkYwXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCIvcGF0aC90by9zb3VyY2UuemlwXCJcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVHlwZVwiOiBcIlMzXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGVzdC5kb25lKCk7XG4gICAgfSxcbiAgICAnZmFpbCBjcmVhdGluZyBhIFByb2plY3Qgd2hlbiBubyBidWlsZCBzcGVjIGlzIGdpdmVuJyh0ZXN0OiBUZXN0KSB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeVByb2plY3QnLCB7XG4gICAgICAgIH0pO1xuICAgICAgfSwgL2J1aWxkU3BlYy8pO1xuXG4gICAgICB0ZXN0LmRvbmUoKTtcbiAgICB9LFxuICB9LFxuXG4gICd1c2luZyB0aW1lb3V0IGFuZCBwYXRoIGluIFMzIGFydGlmYWN0cyBzZXRzIGl0IGNvcnJlY3RseScodGVzdDogVGVzdCkge1xuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICdCdWNrZXQnKTtcbiAgICBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdQcm9qZWN0Jywge1xuICAgICAgYnVpbGRTcGVjOiB7XG4gICAgICAgIHZlcnNpb246ICcwLjInLFxuICAgICAgfSxcbiAgICAgIGFydGlmYWN0czogbmV3IGNvZGVidWlsZC5TM0J1Y2tldEJ1aWxkQXJ0aWZhY3RzKHtcbiAgICAgICAgcGF0aDogJ3NvbWUvcGF0aCcsXG4gICAgICAgIG5hbWU6ICdzb21lX25hbWUnLFxuICAgICAgICBidWNrZXQsXG4gICAgICB9KSxcbiAgICAgIHRpbWVvdXQ6IDEyMyxcbiAgICB9KTtcblxuICAgIGV4cGVjdChzdGFjaykudG8oaGF2ZVJlc291cmNlTGlrZSgnQVdTOjpDb2RlQnVpbGQ6OlByb2plY3QnLCB7XG4gICAgICBcIkFydGlmYWN0c1wiOiB7XG4gICAgICAgIFwiUGF0aFwiOiBcInNvbWUvcGF0aFwiLFxuICAgICAgICBcIk5hbWVcIjogXCJzb21lX25hbWVcIixcbiAgICAgICAgXCJUeXBlXCI6IFwiUzNcIixcbiAgICAgIH0sXG4gICAgICBcIlRpbWVvdXRJbk1pbnV0ZXNcIjogMTIzLFxuICAgIH0pKTtcblxuICAgIHRlc3QuZG9uZSgpO1xuICB9LFxuXG4gICdzZWNvbmRhcnkgc291cmNlcyc6IHtcbiAgICAncmVxdWlyZSBwcm92aWRpbmcgYW4gaWRlbnRpZmllciB3aGVuIGNyZWF0aW5nIGEgUHJvamVjdCcodGVzdDogVGVzdCkge1xuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG5cbiAgICAgIHRlc3QudGhyb3dzKCgpID0+IHtcbiAgICAgICAgbmV3IGNvZGVidWlsZC5Qcm9qZWN0KHN0YWNrLCAnTXlQcm9qZWN0Jywge1xuICAgICAgICAgIGJ1aWxkU3BlYzoge1xuICAgICAgICAgICAgdmVyc2lvbjogJzAuMicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWNvbmRhcnlTb3VyY2VzOiBbXG4gICAgICAgICAgICBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfSwgL2lkZW50aWZpZXIvKTtcblxuICAgICAgdGVzdC5kb25lKCk7XG4gICAgfSxcblxuICAgICdhcmUgbm90IGFsbG93ZWQgZm9yIGEgUHJvamVjdCB3aXRoIENvZGVQaXBlbGluZSBhcyBTb3VyY2UnKHRlc3Q6IFRlc3QpIHtcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgICAgY29uc3QgcHJvamVjdCA9IG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIHByb2plY3QuYWRkU2Vjb25kYXJ5U291cmNlKG5ldyBjb2RlYnVpbGQuUzNCdWNrZXRTb3VyY2Uoe1xuICAgICAgICBidWNrZXQ6IG5ldyBzMy5CdWNrZXQoc3RhY2ssICdNeUJ1Y2tldCcpLFxuICAgICAgICBwYXRoOiAnc29tZS9wYXRoJyxcbiAgICAgICAgaWRlbnRpZmllcjogJ2lkJyxcbiAgICAgIH0pKTtcblxuICAgICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc3RhY2spO1xuICAgICAgfSwgL3NlY29uZGFyeSBzb3VyY2VzLyk7XG5cbiAgICAgIHRlc3QuZG9uZSgpO1xuICAgIH0sXG5cbiAgICAnYWRkZWQgd2l0aCBhbiBpZGVudGlmZXIgYWZ0ZXIgdGhlIFByb2plY3QgaGFzIGJlZW4gY3JlYXRlZCBhcmUgcmVuZGVyZWQgaW4gdGhlIHRlbXBsYXRlJyh0ZXN0OiBUZXN0KSB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICdNeUJ1Y2tldCcpO1xuICAgICAgY29uc3QgcHJvamVjdCA9IG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLlMzQnVja2V0U291cmNlKHtcbiAgICAgICAgICBidWNrZXQsXG4gICAgICAgICAgcGF0aDogJ3NvbWUvcGF0aCcsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHByb2plY3QuYWRkU2Vjb25kYXJ5U291cmNlKG5ldyBjb2RlYnVpbGQuUzNCdWNrZXRTb3VyY2Uoe1xuICAgICAgICBidWNrZXQsXG4gICAgICAgIHBhdGg6ICdhbm90aGVyL3BhdGgnLFxuICAgICAgICBpZGVudGlmaWVyOiAnc291cmNlMScsXG4gICAgICB9KSk7XG5cbiAgICAgIGV4cGVjdChzdGFjaykudG8oaGF2ZVJlc291cmNlTGlrZSgnQVdTOjpDb2RlQnVpbGQ6OlByb2plY3QnLCB7XG4gICAgICAgIFwiU2Vjb25kYXJ5U291cmNlc1wiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJTb3VyY2VJZGVudGlmaWVyXCI6IFwic291cmNlMVwiLFxuICAgICAgICAgICAgXCJUeXBlXCI6IFwiUzNcIixcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSkpO1xuXG4gICAgICB0ZXN0LmRvbmUoKTtcbiAgICB9LFxuICB9LFxuXG4gICdzZWNvbmRhcnkgYXJ0aWZhY3RzJzoge1xuICAgICdyZXF1aXJlIHByb3ZpZGluZyBhbiBpZGVudGlmaWVyIHdoZW4gY3JlYXRpbmcgYSBQcm9qZWN0Jyh0ZXN0OiBUZXN0KSB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeVByb2plY3QnLCB7XG4gICAgICAgICAgYnVpbGRTcGVjOiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiAnMC4yJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlY29uZGFyeUFydGlmYWN0czogW1xuICAgICAgICAgICAgbmV3IGNvZGVidWlsZC5TM0J1Y2tldEJ1aWxkQXJ0aWZhY3RzKHtcbiAgICAgICAgICAgICAgYnVja2V0OiBuZXcgczMuQnVja2V0KHN0YWNrLCAnTXlCdWNrZXQnKSxcbiAgICAgICAgICAgICAgcGF0aDogJ3NvbWUvcGF0aCcsXG4gICAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfSwgL2lkZW50aWZpZXIvKTtcblxuICAgICAgdGVzdC5kb25lKCk7XG4gICAgfSxcblxuICAgICdhcmUgbm90IGFsbG93ZWQgZm9yIGEgUHJvamVjdCB3aXRoIENvZGVQaXBlbGluZSBhcyBTb3VyY2UnKHRlc3Q6IFRlc3QpIHtcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgICAgY29uc3QgcHJvamVjdCA9IG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIHByb2plY3QuYWRkU2Vjb25kYXJ5QXJ0aWZhY3QobmV3IGNvZGVidWlsZC5TM0J1Y2tldEJ1aWxkQXJ0aWZhY3RzKHtcbiAgICAgICAgYnVja2V0OiBuZXcgczMuQnVja2V0KHN0YWNrLCAnTXlCdWNrZXQnKSxcbiAgICAgICAgcGF0aDogJ3NvbWUvcGF0aCcsXG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgaWRlbnRpZmllcjogJ2lkJyxcbiAgICAgIH0pKTtcblxuICAgICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc3RhY2spO1xuICAgICAgfSwgL3NlY29uZGFyeSBhcnRpZmFjdHMvKTtcblxuICAgICAgdGVzdC5kb25lKCk7XG4gICAgfSxcblxuICAgICdhZGRlZCB3aXRoIGFuIGlkZW50aWZpZXIgYWZ0ZXIgdGhlIFByb2plY3QgaGFzIGJlZW4gY3JlYXRlZCBhcmUgcmVuZGVyZWQgaW4gdGhlIHRlbXBsYXRlJyh0ZXN0OiBUZXN0KSB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICdNeUJ1Y2tldCcpO1xuICAgICAgY29uc3QgcHJvamVjdCA9IG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLlMzQnVja2V0U291cmNlKHtcbiAgICAgICAgICBidWNrZXQsXG4gICAgICAgICAgcGF0aDogJ3NvbWUvcGF0aCcsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHByb2plY3QuYWRkU2Vjb25kYXJ5QXJ0aWZhY3QobmV3IGNvZGVidWlsZC5TM0J1Y2tldEJ1aWxkQXJ0aWZhY3RzKHtcbiAgICAgICAgYnVja2V0LFxuICAgICAgICBwYXRoOiAnYW5vdGhlci9wYXRoJyxcbiAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICBpZGVudGlmaWVyOiAnYXJ0aWZhY3QxJyxcbiAgICAgIH0pKTtcblxuICAgICAgZXhwZWN0KHN0YWNrKS50byhoYXZlUmVzb3VyY2VMaWtlKCdBV1M6OkNvZGVCdWlsZDo6UHJvamVjdCcsIHtcbiAgICAgICAgXCJTZWNvbmRhcnlBcnRpZmFjdHNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiQXJ0aWZhY3RJZGVudGlmaWVyXCI6IFwiYXJ0aWZhY3QxXCIsXG4gICAgICAgICAgICBcIlR5cGVcIjogXCJTM1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KSk7XG5cbiAgICAgIHRlc3QuZG9uZSgpO1xuICAgIH0sXG4gIH0sXG5cbiAgJ2FydGlmYWN0cyc6IHtcbiAgICAnQ29kZVBpcGVsaW5lJzoge1xuICAgICAgJ2JvdGggc291cmNlIGFuZCBhcnRpZmFjcyBhcmUgc2V0IHRvIENvZGVQaXBlbGluZScodGVzdDogVGVzdCkge1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgICAgICBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeVByb2plY3QnLCB7XG4gICAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpLFxuICAgICAgICAgIGFydGlmYWN0czogbmV3IGNvZGVidWlsZC5Db2RlUGlwZWxpbmVCdWlsZEFydGlmYWN0cygpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChzdGFjaykudG8oaGF2ZVJlc291cmNlKCdBV1M6OkNvZGVCdWlsZDo6UHJvamVjdCcsIHtcbiAgICAgICAgICBcIlNvdXJjZVwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiQ09ERVBJUEVMSU5FXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiQXJ0aWZhY3RzXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJDT0RFUElQRUxJTkVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJTZXJ2aWNlUm9sZVwiOiB7XG4gICAgICAgICAgXCJGbjo6R2V0QXR0XCI6IFtcbiAgICAgICAgICAgIFwiTXlQcm9qZWN0Um9sZTlCQkU1MjMzXCIsXG4gICAgICAgICAgICBcIkFyblwiXG4gICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJFbnZpcm9ubWVudFwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiTElOVVhfQ09OVEFJTkVSXCIsXG4gICAgICAgICAgXCJQcml2aWxlZ2VkTW9kZVwiOiBmYWxzZSxcbiAgICAgICAgICBcIkltYWdlXCI6IFwiYXdzL2NvZGVidWlsZC91YnVudHUtYmFzZToxNC4wNFwiLFxuICAgICAgICAgIFwiQ29tcHV0ZVR5cGVcIjogXCJCVUlMRF9HRU5FUkFMMV9TTUFMTFwiXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGVzdC5kb25lKCk7XG4gICAgICB9LFxuXG4gICAgICAnaWYgc291cmNkZSBpcyBzZXQgdG8gQ29kZVBpcGVsaW5lLCBhbmQgYXJ0aWZhY3RzIGFyZSBub3Qgc2V0LCB0aGV5IGFyZSBkZWZhdWx0ZWQgdG8gQ29kZVBpcGVsaW5lJyh0ZXN0OiBUZXN0KSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuXG4gICAgICAgIG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ015UHJvamVjdCcsIHtcbiAgICAgICAgICBzb3VyY2U6IG5ldyBjb2RlYnVpbGQuQ29kZVBpcGVsaW5lU291cmNlKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHN0YWNrKS50byhoYXZlUmVzb3VyY2UoJ0FXUzo6Q29kZUJ1aWxkOjpQcm9qZWN0Jywge1xuICAgICAgICAgIFwiU291cmNlXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJDT0RFUElQRUxJTkVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJBcnRpZmFjdHNcIjoge1xuICAgICAgICAgIFwiVHlwZVwiOiBcIkNPREVQSVBFTElORVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlNlcnZpY2VSb2xlXCI6IHtcbiAgICAgICAgICBcIkZuOjpHZXRBdHRcIjogW1xuICAgICAgICAgICAgXCJNeVByb2plY3RSb2xlOUJCRTUyMzNcIixcbiAgICAgICAgICAgIFwiQXJuXCJcbiAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIkVudmlyb25tZW50XCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJMSU5VWF9DT05UQUlORVJcIixcbiAgICAgICAgICBcIlByaXZpbGVnZWRNb2RlXCI6IGZhbHNlLFxuICAgICAgICAgIFwiSW1hZ2VcIjogXCJhd3MvY29kZWJ1aWxkL3VidW50dS1iYXNlOjE0LjA0XCIsXG4gICAgICAgICAgXCJDb21wdXRlVHlwZVwiOiBcIkJVSUxEX0dFTkVSQUwxX1NNQUxMXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0ZXN0LmRvbmUoKTtcbiAgICAgIH0sXG5cbiAgICAgICdmYWlscyBpZiBvbmUgb2Ygc291cmNlL2FydGlmYWN0cyBpcyBzZXQgdG8gQ29kZVBpcGVsaW5lIGFuZCB0aGUgb3RoZXIgaXNuXFwndCcodGVzdDogVGVzdCkge1xuICAgICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuXG4gICAgICAgICAgdGVzdC50aHJvd3MoKCkgPT4gbmV3IGNvZGVidWlsZC5Qcm9qZWN0KHN0YWNrLCAnTXlQcm9qZWN0Jywge1xuICAgICAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpLFxuICAgICAgICAgICAgYXJ0aWZhY3RzOiBuZXcgY29kZWJ1aWxkLk5vQnVpbGRBcnRpZmFjdHMoKVxuICAgICAgICAgIH0pLCAvQm90aCBzb3VyY2UgYW5kIGFydGlmYWN0cyBtdXN0IGJlIHNldCB0byBDb2RlUGlwZWxpbmUvKTtcblxuICAgICAgICAgIHRlc3QudGhyb3dzKCgpID0+IG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ1lvdXJQcm9qZWN0Jywge1xuICAgICAgICAgICAgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVDb21taXRTb3VyY2Uoe1xuICAgICAgICAgICAgICByZXBvc2l0b3J5OiBuZXcgY29kZWNvbW1pdC5SZXBvc2l0b3J5KHN0YWNrLCAnTXlSZXBvJywgeyByZXBvc2l0b3J5TmFtZTogJ2JvbycgfSlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYXJ0aWZhY3RzOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZUJ1aWxkQXJ0aWZhY3RzKClcbiAgICAgICAgICB9KSwgL0JvdGggc291cmNlIGFuZCBhcnRpZmFjdHMgbXVzdCBiZSBzZXQgdG8gQ29kZVBpcGVsaW5lLyk7XG5cbiAgICAgICAgICB0ZXN0LmRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgJ2V2ZW50cycodGVzdDogVGVzdCkge1xuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IHByb2plY3QgPSBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeVByb2plY3QnLCB7XG4gICAgICBzb3VyY2U6IG5ldyBjb2RlYnVpbGQuQ29kZVBpcGVsaW5lU291cmNlKClcbiAgICB9KTtcblxuICAgIHByb2plY3Qub25CdWlsZEZhaWxlZCgnT25CdWlsZEZhaWxlZCcpO1xuICAgIHByb2plY3Qub25CdWlsZFN1Y2NlZWRlZCgnT25CdWlsZFN1Y2NlZWRlZCcpO1xuICAgIHByb2plY3Qub25QaGFzZUNoYW5nZSgnT25QaGFzZUNoYW5nZScpO1xuICAgIHByb2plY3Qub25TdGF0ZUNoYW5nZSgnT25TdGF0ZUNoYW5nZScpO1xuICAgIHByb2plY3Qub25CdWlsZFN0YXJ0ZWQoJ09uQnVpbGRTdGFydGVkJyk7XG5cbiAgICBleHBlY3Qoc3RhY2spLnRvKGhhdmVSZXNvdXJjZSgnQVdTOjpFdmVudHM6OlJ1bGUnLCB7XG4gICAgICBcIkV2ZW50UGF0dGVyblwiOiB7XG4gICAgICAgIFwic291cmNlXCI6IFtcbiAgICAgICAgXCJhd3MuY29kZWJ1aWxkXCJcbiAgICAgICAgXSxcbiAgICAgICAgXCJkZXRhaWwtdHlwZVwiOiBbXG4gICAgICAgIFwiQ29kZUJ1aWxkIEJ1aWxkIFN0YXRlIENoYW5nZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFwiZGV0YWlsXCI6IHtcbiAgICAgICAgXCJwcm9qZWN0LW5hbWVcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiYnVpbGQtc3RhdHVzXCI6IFtcbiAgICAgICAgICBcIkZBSUxFRFwiXG4gICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiU3RhdGVcIjogXCJFTkFCTEVEXCJcbiAgICB9KSk7XG5cbiAgICBleHBlY3Qoc3RhY2spLnRvKGhhdmVSZXNvdXJjZSgnQVdTOjpFdmVudHM6OlJ1bGUnLCB7XG4gICAgICBcIkV2ZW50UGF0dGVyblwiOiB7XG4gICAgICAgIFwic291cmNlXCI6IFtcbiAgICAgICAgXCJhd3MuY29kZWJ1aWxkXCJcbiAgICAgICAgXSxcbiAgICAgICAgXCJkZXRhaWwtdHlwZVwiOiBbXG4gICAgICAgIFwiQ29kZUJ1aWxkIEJ1aWxkIFN0YXRlIENoYW5nZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFwiZGV0YWlsXCI6IHtcbiAgICAgICAgXCJwcm9qZWN0LW5hbWVcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiYnVpbGQtc3RhdHVzXCI6IFtcbiAgICAgICAgICBcIlNVQ0NFRURFRFwiXG4gICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiU3RhdGVcIjogXCJFTkFCTEVEXCJcbiAgICB9KSk7XG5cbiAgICBleHBlY3Qoc3RhY2spLnRvKGhhdmVSZXNvdXJjZSgnQVdTOjpFdmVudHM6OlJ1bGUnLCB7XG4gICAgICBcIkV2ZW50UGF0dGVyblwiOiB7XG4gICAgICAgIFwic291cmNlXCI6IFtcbiAgICAgICAgXCJhd3MuY29kZWJ1aWxkXCJcbiAgICAgICAgXSxcbiAgICAgICAgXCJkZXRhaWwtdHlwZVwiOiBbXG4gICAgICAgIFwiQ29kZUJ1aWxkIEJ1aWxkIFBoYXNlIENoYW5nZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFwiZGV0YWlsXCI6IHtcbiAgICAgICAgXCJwcm9qZWN0LW5hbWVcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiU3RhdGVcIjogXCJFTkFCTEVEXCJcbiAgICB9KSk7XG5cbiAgICBleHBlY3Qoc3RhY2spLnRvKGhhdmVSZXNvdXJjZSgnQVdTOjpFdmVudHM6OlJ1bGUnLCB7XG4gICAgICBcIkV2ZW50UGF0dGVyblwiOiB7XG4gICAgICAgIFwic291cmNlXCI6IFtcbiAgICAgICAgXCJhd3MuY29kZWJ1aWxkXCJcbiAgICAgICAgXSxcbiAgICAgICAgXCJkZXRhaWwtdHlwZVwiOiBbXG4gICAgICAgIFwiQ29kZUJ1aWxkIEJ1aWxkIFN0YXRlIENoYW5nZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFwiZGV0YWlsXCI6IHtcbiAgICAgICAgXCJwcm9qZWN0LW5hbWVcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiU3RhdGVcIjogXCJFTkFCTEVEXCJcbiAgICB9KSk7XG5cbiAgICBleHBlY3Qoc3RhY2spLnRvKGhhdmVSZXNvdXJjZSgnQVdTOjpFdmVudHM6OlJ1bGUnLCB7XG4gICAgICBcIkV2ZW50UGF0dGVyblwiOiB7XG4gICAgICBcInNvdXJjZVwiOiBbXG4gICAgICAgIFwiYXdzLmNvZGVidWlsZFwiXG4gICAgICBdLFxuICAgICAgXCJkZXRhaWwtdHlwZVwiOiBbXG4gICAgICAgIFwiQ29kZUJ1aWxkIEJ1aWxkIFN0YXRlIENoYW5nZVwiXG4gICAgICBdLFxuICAgICAgXCJkZXRhaWxcIjoge1xuICAgICAgICBcInByb2plY3QtbmFtZVwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIlJlZlwiOiBcIk15UHJvamVjdDM5RjdCMEFFXCJcbiAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImJ1aWxkLXN0YXR1c1wiOiBbXG4gICAgICAgIFwiSU5fUFJPR1JFU1NcIlxuICAgICAgICBdXG4gICAgICB9XG4gICAgICB9LFxuICAgICAgXCJTdGF0ZVwiOiBcIkVOQUJMRURcIlxuICAgIH0pKTtcblxuICAgIHRlc3QuZG9uZSgpO1xuICB9LFxuXG4gICdlbnZpcm9ubWVudCB2YXJpYWJsZXMgY2FuIGJlIG92ZXJyaWRkZW4gYXQgdGhlIHByb2plY3QgbGV2ZWwnKHRlc3Q6IFRlc3QpIHtcbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgIG5ldyBjb2RlYnVpbGQuUHJvamVjdChzdGFjaywgJ1Byb2plY3QnLCB7XG4gICAgICBzb3VyY2U6IG5ldyBjb2RlYnVpbGQuQ29kZVBpcGVsaW5lU291cmNlKCksXG4gICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICBlbnZpcm9ubWVudFZhcmlhYmxlczoge1xuICAgICAgICAgIEZPTzogeyB2YWx1ZTogJzEyMzQnIH0sXG4gICAgICAgICAgQkFSOiB7IHZhbHVlOiBgMTExJHtuZXcgY2RrLlRva2VuKHsgdHdvdHdvdHdvOiAnMjIyJyB9KX1gLCB0eXBlOiBjb2RlYnVpbGQuQnVpbGRFbnZpcm9ubWVudFZhcmlhYmxlVHlwZS5QYXJhbWV0ZXJTdG9yZSB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbnZpcm9ubWVudFZhcmlhYmxlczoge1xuICAgICAgICBHT086IHsgdmFsdWU6ICdBQkMnIH0sXG4gICAgICAgIEZPTzogeyB2YWx1ZTogJ09WRVJSSURFIScgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXhwZWN0KHN0YWNrKS50byhoYXZlUmVzb3VyY2UoJ0FXUzo6Q29kZUJ1aWxkOjpQcm9qZWN0Jywge1xuICAgICAgXCJTb3VyY2VcIjoge1xuICAgICAgXCJUeXBlXCI6IFwiQ09ERVBJUEVMSU5FXCJcbiAgICAgIH0sXG4gICAgICBcIkFydGlmYWN0c1wiOiB7XG4gICAgICBcIlR5cGVcIjogXCJDT0RFUElQRUxJTkVcIlxuICAgICAgfSxcbiAgICAgIFwiU2VydmljZVJvbGVcIjoge1xuICAgICAgXCJGbjo6R2V0QXR0XCI6IFtcbiAgICAgICAgXCJQcm9qZWN0Um9sZTRDQ0IyNzRFXCIsXG4gICAgICAgIFwiQXJuXCJcbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICBcIkVudmlyb25tZW50XCI6IHtcbiAgICAgIFwiVHlwZVwiOiBcIkxJTlVYX0NPTlRBSU5FUlwiLFxuICAgICAgXCJFbnZpcm9ubWVudFZhcmlhYmxlc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgXCJUeXBlXCI6IFwiUExBSU5URVhUXCIsXG4gICAgICAgIFwiVmFsdWVcIjogXCJPVkVSUklERSFcIixcbiAgICAgICAgXCJOYW1lXCI6IFwiRk9PXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcIlR5cGVcIjogXCJQQVJBTUVURVJfU1RPUkVcIixcbiAgICAgICAgXCJWYWx1ZVwiOiB7XG4gICAgICAgICAgXCJGbjo6Sm9pblwiOiBbXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgICBbXG4gICAgICAgICAgICBcIjExMVwiLFxuICAgICAgICAgICAge8KgdHdvdHdvdHdvOiBcIjIyMlwiIH1cbiAgICAgICAgICBdXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIk5hbWVcIjogXCJCQVJcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFwiVHlwZVwiOiBcIlBMQUlOVEVYVFwiLFxuICAgICAgICBcIlZhbHVlXCI6IFwiQUJDXCIsXG4gICAgICAgIFwiTmFtZVwiOiBcIkdPT1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIlByaXZpbGVnZWRNb2RlXCI6IGZhbHNlLFxuICAgICAgXCJJbWFnZVwiOiBcImF3cy9jb2RlYnVpbGQvdWJ1bnR1LWJhc2U6MTQuMDRcIixcbiAgICAgIFwiQ29tcHV0ZVR5cGVcIjogXCJCVUlMRF9HRU5FUkFMMV9TTUFMTFwiXG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgdGVzdC5kb25lKCk7XG4gIH0sXG5cbiAgJy5tZXRyaWNYeHgoKSBtZXRob2RzIGNhbiBiZSB1c2VkIHRvIG9idGFpbiBNZXRyaWNzIGZvciBDb2RlQnVpbGQgcHJvamVjdHMnKHRlc3Q6IFRlc3QpIHtcbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcblxuICAgIGNvbnN0IHByb2plY3QgPSBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeUJ1aWxkUHJvamVjdCcsIHsgc291cmNlOiBuZXcgY29kZWJ1aWxkLkNvZGVQaXBlbGluZVNvdXJjZSgpIH0pO1xuXG4gICAgY29uc3QgbWV0cmljQnVpbGRzID0gcHJvamVjdC5tZXRyaWNCdWlsZHMoKTtcbiAgICB0ZXN0LnNhbWUobWV0cmljQnVpbGRzLmRpbWVuc2lvbnMhLlByb2plY3ROYW1lLCBwcm9qZWN0LnByb2plY3ROYW1lKTtcbiAgICB0ZXN0LmRlZXBFcXVhbChtZXRyaWNCdWlsZHMubmFtZXNwYWNlLCAnQVdTL0NvZGVCdWlsZCcpO1xuICAgIHRlc3QuZGVlcEVxdWFsKG1ldHJpY0J1aWxkcy5zdGF0aXN0aWMsICdTdW0nLCAnZGVmYXVsdCBzdGF0IGlzIFNVTScpO1xuICAgIHRlc3QuZGVlcEVxdWFsKG1ldHJpY0J1aWxkcy5tZXRyaWNOYW1lLCAnQnVpbGRzJyk7XG5cbiAgICBjb25zdCBtZXRyaWNEdXJhdGlvbiA9IHByb2plY3QubWV0cmljRHVyYXRpb24oeyBsYWJlbDogJ2hlbGxvJyB9KTtcblxuICAgIHRlc3QuZGVlcEVxdWFsKG1ldHJpY0R1cmF0aW9uLm1ldHJpY05hbWUsICdEdXJhdGlvbicpO1xuICAgIHRlc3QuZGVlcEVxdWFsKG1ldHJpY0R1cmF0aW9uLmxhYmVsLCAnaGVsbG8nKTtcblxuICAgIHRlc3QuZGVlcEVxdWFsKHByb2plY3QubWV0cmljRmFpbGVkQnVpbGRzKCkubWV0cmljTmFtZSwgJ0ZhaWxlZEJ1aWxkcycpO1xuICAgIHRlc3QuZGVlcEVxdWFsKHByb2plY3QubWV0cmljU3VjY2VlZGVkQnVpbGRzKCkubWV0cmljTmFtZSwgJ1N1Y2NlZWRlZEJ1aWxkcycpO1xuXG4gICAgdGVzdC5kb25lKCk7XG4gIH0sXG5cbiAgJ3VzaW5nIENvbXB1dGVUeXBlLlNtYWxsIHdpdGggYSBXaW5kb3dzIGltYWdlIGZhaWxzIHZhbGlkYXRpb24nKHRlc3Q6IFRlc3QpIHtcbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBpbnZhbGlkRW52aXJvbm1lbnQ6IGNvZGVidWlsZC5CdWlsZEVudmlyb25tZW50ID0ge1xuICAgICAgYnVpbGRJbWFnZTogY29kZWJ1aWxkLldpbmRvd3NCdWlsZEltYWdlLldJTl9TRVJWRVJfQ09SRV8yMDE2X0JBU0UsXG4gICAgICBjb21wdXRlVHlwZTogY29kZWJ1aWxkLkNvbXB1dGVUeXBlLlNtYWxsLFxuICAgIH07XG5cbiAgICB0ZXN0LnRocm93cygoKSA9PiB7XG4gICAgICBuZXcgY29kZWJ1aWxkLlByb2plY3Qoc3RhY2ssICdNeVByb2plY3QnLCB7XG4gICAgICAgIHNvdXJjZTogbmV3IGNvZGVidWlsZC5Db2RlUGlwZWxpbmVTb3VyY2UoKSxcbiAgICAgICAgZW52aXJvbm1lbnQ6IGludmFsaWRFbnZpcm9ubWVudCxcbiAgICAgIH0pO1xuICAgIH0sIC9XaW5kb3dzIGltYWdlcyBkbyBub3Qgc3VwcG9ydCB0aGUgU21hbGwgQ29tcHV0ZVR5cGUvKTtcblxuICAgIHRlc3QuZG9uZSgpO1xuICB9XG59O1xuIl19